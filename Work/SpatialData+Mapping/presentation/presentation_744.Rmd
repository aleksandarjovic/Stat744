---
title: "presentation"
author: "Alexandra Bushby"
date: "3/14/2018"
output: html_document
---
advantages and disadvantages of contour vs fill plot
spatial mapping - theory
density plots

which choice will you make about bin size or type of bin shape.

also show the points for density plots (points versus density plots)




```{r setup}
library(leaflet)
```

```{r}
m <- leaflet() %>% 
  addTiles() ##default basemap
m
```



##Different Types of Base Maps

`addProviderTiles()` gives you a tile layer from a known map provider

```{r}
m %>% addProviderTiles(providers$Stamen.Toner) 
```

```{r}
m %>% addProviderTiles(providers$CartoDB.Positron)
```

```{r}
m %>% addProviderTiles(providers$Esri.NatGeoWorldMap)
```


Pros and Cons of Each Base Map:
First Map: (Blue for water, white for land)
Pros- 
Second Map: (black for water, white for land) 
Probably the most useless map I know... Any pros?
Third Map: (grey for water, white for land)
The best one I've seen - very good for added colour to plots
Four Map (green to white for land, blue for water)
Pro - shows different landscapes of Earth (deepness of water, dry/wet regions), not useful for our purposes.

For example: base map in leaflet versus third map:

`addWMSTiles` add Web Map Service tiles

```{r}
leaflet() %>% addTiles() %>%
  addWMSTiles(
    "http://mesonet.agron.iastate.edu/cgi-bin/wms/nexrad/n0r.cgi",
    layers = "nexrad-n0r-900913",
    options = WMSTileOptions(format = "image/png", transparent = TRUE),
    attribution = "Weather data © 2012 IEM Nexrad"
  )
```

```{r}
leaflet() %>% addProviderTiles(providers$CartoDB.Positron) %>%
  addWMSTiles(
    "http://mesonet.agron.iastate.edu/cgi-bin/wms/nexrad/n0r.cgi",
    layers = "nexrad-n0r-900913",
    options = WMSTileOptions(format = "image/png", transparent = TRUE),
    attribution = "Weather data © 2012 IEM Nexrad"
  )
```

What I really like about the plot below: when you zoom in, there is more detail shown! Making the fillOpacity very small so patterns can be shown more easily. Problem: can't really distinguish between the magnitudes...? What I'd really like to be able to do is find a way to represent plate boundaries and to create a layover over this map... Looked into it and can't seem to find a way to do this within a reasonable amount of time. ** talk about how to scale the magnitude - magnitude is in log scale, also what colours to use to show earthquakes 
```{r}
data(quakes)

leaflet(data = quakes) %>%  addProviderTiles(providers$CartoDB.Positron) %>%
  addCircleMarkers(~long, ~lat, radius = ~sqrt(exp(mag))/2, label = ~as.character(mag), color = "black", fillColor = "red", fillOpacity = 0.1, stroke = FALSE, opacity = 0)
```



```{r}
library(rgdal) ##allows you to use readOGR

states <- readOGR("shapefiles/cb_2016_us_state_20m.shp",
 layer = "cb_2016_us_state_20m", GDAL1_integer64_policy = TRUE)
```


`addPolygons()`


```{r}

leaflet(states) %>%
    addPolygons(color = "#444444", weight = 2, smoothFactor = 0.5,
                opacity = 0.1, fillOpacity = 0.8,
                fillColor = ~colorQuantile("YlOrRd", ALAND)(ALAND),
                highlightOptions = highlightOptions(color = "white", weight = 2,
                                                    bringToFront = TRUE))
```


One thing I like about the plot generated by these data sets is that it only shows the area of interest (and nothing else)

```{r}
library(geojsonio)

states <- geojsonio::geojson_read("geojson/us-states.json", what = "sp")

m <- leaflet(states) %>%
  addProviderTiles("MapBox", options = providerTileOptions(
    id = "mapbox.light",
    accessToken = Sys.getenv('MAPBOX_ACCESS_TOKEN')))

m %>% addPolygons()
```



